# ë°ì´í„°ë² ì´ìŠ¤ ë¶„ë¦¬ ê²€ì¦ ë° ìµœì í™” ê°€ì´ë“œ

## ğŸ“Š í˜„ì¬ ë°ì´í„°ë² ì´ìŠ¤ êµ¬ì¡°

### ì»¬ë ‰ì…˜ ë¶„ë¦¬ ìƒíƒœ

#### Web1 (ìƒì¡´ì ì„¤ë¬¸)

```
users                    - ìƒì¡´ì ì‚¬ìš©ì ì •ë³´
patients                 - ìƒì¡´ì í™˜ì ì •ë³´
surveyResults            - ìƒì¡´ì ì„¤ë¬¸ ê²°ê³¼
counselingRequests       - ìƒì¡´ì ìƒë‹´ ìš”ì²­
```

#### Web3 (í™˜ì ì„¤ë¬¸)

```
patients_users           - í™˜ì ì‚¬ìš©ì ì •ë³´
patients_patients        - í™˜ì í™˜ì ì •ë³´
patients_surveyResults   - í™˜ì ì„¤ë¬¸ ê²°ê³¼
patients_counselingRequests - í™˜ì ìƒë‹´ ìš”ì²­
```

#### Web2 (ëŒ€ì‹œë³´ë“œ)

```
socialWorkers            - ì˜ë£Œ ì¢…ì‚¬ì ì •ë³´
(ìƒì¡´ì/í™˜ì ë°ì´í„°ëŠ” ìœ„ ì»¬ë ‰ì…˜ì—ì„œ ì¡°íšŒ)
```

#### Web4 (ì»¤ë®¤ë‹ˆí‹°)

```
community_users          - ì»¤ë®¤ë‹ˆí‹° ì‚¬ìš©ì ì •ë³´
community_posts          - ê²Œì‹œê¸€
community_posts/{id}/comments - ëŒ“ê¸€
user_surveys             - íšŒì› ì„¤ë¬¸ ì°¸ì—¬ ê¸°ë¡
socialWorkers            - ì˜ë£Œ ì¢…ì‚¬ì ì •ë³´ (web2ì™€ ê³µìœ )
```

## âœ… ë°ì´í„° ë¶„ë¦¬ ë³´ì¥

### 1. ì»¬ë ‰ì…˜ ì´ë¦„ ë¶„ë¦¬

- âœ… Web1: ì ‘ë‘ì‚¬ ì—†ìŒ
- âœ… Web3: "patients\_" ì ‘ë‘ì‚¬
- âœ… Web4: "community\_" ì ‘ë‘ì‚¬
- âœ… Web2: "socialWorkers" (ì˜ë£Œ ì¢…ì‚¬ì ì „ìš©)

### 2. ì¶©ëŒ ë°©ì§€

- âœ… ê° ì›¹ì€ ì„œë¡œ ë‹¤ë¥¸ ì»¬ë ‰ì…˜ ì‚¬ìš©
- âœ… ê°™ì€ patientIdë¼ë„ ë‹¤ë¥¸ ì»¬ë ‰ì…˜ì— ì €ì¥ë˜ë¯€ë¡œ ì¶©ëŒ ì—†ìŒ
- âœ… Web2ëŠ” í†µí•© ì¡°íšŒ ì‹œ íƒ€ì… í•„ë“œë¡œ êµ¬ë¶„

## ğŸ” ê²€ì¦ ì²´í¬ë¦¬ìŠ¤íŠ¸

### Web1 ë°ì´í„°

- [x] `users/{id}` - ìƒì¡´ìë§Œ ì €ì¥
- [x] `patients/{id}` - ìƒì¡´ìë§Œ ì €ì¥
- [x] `surveyResults/{id}` - ìƒì¡´ìë§Œ ì €ì¥
- [x] `counselingRequests/{id}` - ìƒì¡´ìë§Œ ì €ì¥

### Web3 ë°ì´í„°

- [x] `patients_users/{id}` - í™˜ìë§Œ ì €ì¥
- [x] `patients_patients/{id}` - í™˜ìë§Œ ì €ì¥
- [x] `patients_surveyResults/{id}` - í™˜ìë§Œ ì €ì¥
- [x] `patients_counselingRequests/{id}` - í™˜ìë§Œ ì €ì¥

### Web4 ë°ì´í„°

- [x] `community_users/{id}` - ì»¤ë®¤ë‹ˆí‹° íšŒì›ë§Œ ì €ì¥
- [x] `community_posts/{id}` - ê²Œì‹œê¸€ë§Œ ì €ì¥
- [x] `user_surveys/{id}` - ì„¤ë¬¸ ì°¸ì—¬ ê¸°ë¡ë§Œ ì €ì¥

### Web2 ë°ì´í„°

- [x] `socialWorkers/{id}` - ì˜ë£Œ ì¢…ì‚¬ìë§Œ ì €ì¥

## ğŸš¨ ì£¼ì˜ì‚¬í•­

### ì ˆëŒ€ í•˜ì§€ ë§ì•„ì•¼ í•  ê²ƒ

1. âŒ Web1ì—ì„œ `patients_` ì ‘ë‘ì‚¬ ì»¬ë ‰ì…˜ ì‚¬ìš© ê¸ˆì§€
2. âŒ Web3ì—ì„œ ì ‘ë‘ì‚¬ ì—†ëŠ” ì»¬ë ‰ì…˜ ì‚¬ìš© ê¸ˆì§€
3. âŒ Web4ì—ì„œ ì„¤ë¬¸ ê´€ë ¨ ì»¬ë ‰ì…˜ ì§ì ‘ ì ‘ê·¼ ê¸ˆì§€
4. âŒ Web2ì—ì„œ í•˜ë“œì½”ë”©ëœ ì»¬ë ‰ì…˜ ì´ë¦„ ì‚¬ìš© ê¸ˆì§€ (í†µí•© ìœ í‹¸ ì‚¬ìš©)

### ê¶Œì¥ì‚¬í•­

1. âœ… Web2ëŠ” í•­ìƒ `IntegratedFirebaseUtils` ì‚¬ìš©
2. âœ… ì»¬ë ‰ì…˜ ì´ë¦„ì€ ìƒìˆ˜ë¡œ ê´€ë¦¬ (`collectionConfig.js`)
3. âœ… ìƒˆë¡œìš´ ê¸°ëŠ¥ ì¶”ê°€ ì‹œ ì»¬ë ‰ì…˜ ë¶„ë¦¬ í™•ì¸

## ğŸ“ ë°ì´í„° ë¬´ê²°ì„± ë³´ì¥

### 1. ì»¬ë ‰ì…˜ ì ‘ê·¼ ì œì–´

ê° ì›¹ì€ ìì‹ ì˜ ì»¬ë ‰ì…˜ë§Œ ì ‘ê·¼:

- Web1 â†’ `users`, `patients`, `surveyResults`, `counselingRequests`
- Web3 â†’ `patients_users`, `patients_patients`, `patients_surveyResults`, `patients_counselingRequests`
- Web4 â†’ `community_users`, `community_posts`, `user_surveys`
- Web2 â†’ í†µí•© ì¡°íšŒë§Œ (ì½ê¸° ì „ìš©)

### 2. íƒ€ì… í•„ë“œ ì¶”ê°€

Web2 í†µí•© ì¡°íšŒ ì‹œ `type` í•„ë“œë¡œ êµ¬ë¶„:

```javascript
{
  id: "patient123",
  name: "í™ê¸¸ë™",
  type: "survivor" | "patient",  // íƒ€ì… êµ¬ë¶„
  ...
}
```

### 3. ë°ì´í„° ê²€ì¦

- ê° ì›¹ì—ì„œ ì €ì¥ ì‹œ ì˜¬ë°”ë¥¸ ì»¬ë ‰ì…˜ ì‚¬ìš© í™•ì¸
- Web2ì—ì„œ ì¡°íšŒ ì‹œ íƒ€ì… í•„ë“œ í™•ì¸
